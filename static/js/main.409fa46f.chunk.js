(this.webpackJsonpcattery=this.webpackJsonpcattery||[]).push([[0],{160:function(e,t,a){},161:function(e,t,a){},162:function(e,t,a){},163:function(e,t,a){},191:function(e,t){},194:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(21),c=a.n(i),s=(a(77),a(3)),l=a(5),o=a(2),m=a(6),u=a(7),d=a(9),p=a(8),h=a(10),v=(a(78),r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"checkmark","aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"check",role:"img",viewBox:"0 0 512 512"},r.a.createElement("path",{fill:"currentColor",d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"}))),f=(r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false","data-prefix":"far","data-icon":"edit",className:"svg-inline--fa fa-edit fa-w-18",role:"img",viewBox:"0 0 576 512"},r.a.createElement("path",{fill:"currentColor",d:"M402.3 344.9l32-32c5-5 13.7-1.5 13.7 5.7V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h273.5c7.1 0 10.7 8.6 5.7 13.7l-32 32c-1.5 1.5-3.5 2.3-5.7 2.3H48v352h352V350.5c0-2.1.8-4.1 2.3-5.6zm156.6-201.8L296.3 405.7l-90.4 10c-26.2 2.9-48.5-19.2-45.6-45.6l10-90.4L432.9 17.1c22.9-22.9 59.9-22.9 82.7 0l43.2 43.2c22.9 22.9 22.9 60 .1 82.8zM460.1 174L402 115.9 216.2 301.8l-7.3 65.3 65.3-7.3L460.1 174zm64.8-79.7l-43.2-43.2c-4.1-4.1-10.8-4.1-14.8 0L436 82l58.1 58.1 30.9-30.9c4-4.2 4-10.8-.1-14.9z"})),r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"dollar-sign",className:"svg-inline--fa fa-dollar-sign fa-w-9",role:"img",viewBox:"0 0 288 512"},r.a.createElement("path",{fill:"currentColor",d:"M209.2 233.4l-108-31.6C88.7 198.2 80 186.5 80 173.5c0-16.3 13.2-29.5 29.5-29.5h66.3c12.2 0 24.2 3.7 34.2 10.5 6.1 4.1 14.3 3.1 19.5-2l34.8-34c7.1-6.9 6.1-18.4-1.8-24.5C238 74.8 207.4 64.1 176 64V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48h-2.5C45.8 64-5.4 118.7.5 183.6c4.2 46.1 39.4 83.6 83.8 96.6l102.5 30c12.5 3.7 21.2 15.3 21.2 28.3 0 16.3-13.2 29.5-29.5 29.5h-66.3C100 368 88 364.3 78 357.5c-6.1-4.1-14.3-3.1-19.5 2l-34.8 34c-7.1 6.9-6.1 18.4 1.8 24.5 24.5 19.2 55.1 29.9 86.5 30v48c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-48.2c46.6-.9 90.3-28.6 105.7-72.7 21.5-61.6-14.6-124.8-72.5-141.7z"}))),E=r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false","data-prefix":"far","data-icon":"clock",className:"svg-inline--fa fa-clock fa-w-16",role:"img",viewBox:"0 0 512 512"},r.a.createElement("path",{fill:"currentColor",d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 448c-110.5 0-200-89.5-200-200S145.5 56 256 56s200 89.5 200 200-89.5 200-200 200zm61.8-104.4l-84.9-61.7c-3.1-2.3-4.9-5.9-4.9-9.7V116c0-6.6 5.4-12 12-12h32c6.6 0 12 5.4 12 12v141.7l66.8 48.6c5.4 3.9 6.5 11.4 2.6 16.8L334.6 349c-3.9 5.3-11.4 6.5-16.8 2.6z"})),g=r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"user-friends",className:"svg-inline--fa fa-user-friends fa-w-20",role:"img",viewBox:"0 0 640 512"},r.a.createElement("path",{fill:"currentColor",d:"M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z"})),y=r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"plus",className:"svg-inline--fa fa-plus fa-w-14",role:"img",viewBox:"0 0 448 512"},r.a.createElement("path",{fill:"currentColor",d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"})),b=r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"pencil-alt",className:"svg-inline--fa fa-pencil-alt fa-w-16",role:"img",viewBox:"0 0 512 512"},r.a.createElement("path",{fill:"currentColor",d:"M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"})),N=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={description:"testttt"},a.onInputChange=function(e){console.log(e.target.id),console.log(e.target.value),a.setState(Object(o.a)({},e.target.id,e.target.value))},a.handleSubmit=function(){a.props.updatePartyData(a.props.partyId,"description",a.state.description),a.props.handleEditModalToggle()},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"edit-party-container"},r.a.createElement("h2",null,"Add Description"),r.a.createElement("div",{className:"input-container-wrapper"},r.a.createElement("div",{className:"input-container"},r.a.createElement("label",null,"Description",r.a.createElement("textarea",{onChange:this.onInputChange,value:this.state.value,id:"description"}))),r.a.createElement("div",{onClick:function(){return e.handleSubmit()},className:"input-container-button"},r.a.createElement("span",null,"Add Description"),r.a.createElement("span",null,y))))}}]),t}(n.Component),O=(a(79),a(80),a(1)),C=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={timeRemaining:60,width:"1%",isReservation:null,isPaid:null},a.handleUpdateTimeRemaining=function(){var e,t=O(a.props.currentTime,"HH:mm:ss a"),n=O(a.props.party.times.end,"HH:mm:ss a"),r=O.duration(n.diff(t));e=1===parseInt(r.asHours())?60:parseInt(r.asMinutes())%60,a.setState({timeRemaining:e})},a.handleButtonClick=function(){a.props.party.isReservation?(a.props.handleEditModalToggle(a.props.party.id),a.props.handleCheckReservation(a.props.party.id,a.props.party.numberInParty)):a.props.handleRemoveParty(a.props.party.id,a.props.party.numberInParty),console.log("CHECKED IN")},a.handleIsPaidToggle=function(){a.props.updatePartyData(a.props.party.id,"paid",!a.state.isPaid),a.setState({isPaid:!a.state.isPaid})},a.handleFill=function(){a.setState({width:"100%"})},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.setState({isReservation:this.props.party.isReservation,isPaid:this.props.party.paid}),this.props.party.isReservation||this.handleUpdateTimeRemaining()}},{key:"componentDidUpdate",value:function(e){e.currentTime!==this.props.currentTime&&this.handleUpdateTimeRemaining()}},{key:"render",value:function(){var e=this,t=this.props.party,a=t.name,i=t.description,c=t.numberInParty,s=t.isReservation,l=t.times,o=t.isUpcomingReservation;return r.a.createElement("div",{style:{backgroundColor:this.state.timeRemaining>=1?"#fbfbfb":"#ffbaba"},className:"party-wrapper"},r.a.createElement("div",{className:"details-container ".concat(s&&o?"reservation":"")},r.a.createElement("div",{className:"detail-row",id:"party-name"},r.a.createElement("span",{id:"title"}," Name: ")," ",r.a.createElement("span",{id:"name"}," ",a," ")," "),r.a.createElement("div",{className:"detail-row",id:"description"},r.a.createElement("span",{className:"details-title"}," Description: ")," ",r.a.createElement("span",{className:"details-value"}," ",i," ")," ")," ",r.a.createElement("div",{className:"sub-details-container"},r.a.createElement("div",{className:"detail-row",id:"number-in-party"},r.a.createElement("span",{className:"details-title"}," Size: ")," ",r.a.createElement("span",{className:"details-value"}," ",c," ")," ")," ",r.a.createElement("div",{className:"detail-row",id:"status"},r.a.createElement("span",{className:"details-title"}," Status: ")," ",r.a.createElement("span",{className:"details-value"}," ",s?"Reservation":"In Room"," ")," ")," ",r.a.createElement("div",{onClick:function(){e.handleIsPaidToggle()},className:"detail-row",id:"payment"},r.a.createElement("span",{className:"details-title"}," Paid: ")," ",r.a.createElement("span",{style:{color:this.state.isPaid?"#6fa037":"#ff0000"},className:"details-value"},f," ")," ")," ")," ")," ",r.a.createElement("div",{className:"time-remaining-cta-container"},r.a.createElement("div",{className:"time-remaining-container"},r.a.createElement("span",{id:"time-remaining"},r.a.createElement("span",{id:"title"}," ",s?"Reservation Time":"Time Left",": ")," ",r.a.createElement("span",{id:"time"}," ",s?l.start:r.a.createElement(n.Fragment,null,r.a.createElement("span",null," ",this.state.timeRemaining," ")," ",r.a.createElement("span",null," min ")," ")," ")," ")," ",r.a.createElement("div",{className:"time-start-end-container"},r.a.createElement("div",{className:"detail-row",id:"time-start"},r.a.createElement("span",{className:"details-title"}," Start: ")," ",r.a.createElement("span",{className:"details-value"}," ",l.start," ")," ")," ",r.a.createElement("div",{className:"detail-row",id:"time-end"},r.a.createElement("span",{className:"details-title"}," End: ")," ",r.a.createElement("span",{className:"details-value"}," ",l.end," ")," ")," ")," ")," ",r.a.createElement("div",{className:"cta-container"},r.a.createElement("button",{onClick:function(){e.handleButtonClick()},className:"complete-btn"},r.a.createElement("span",null," ",this.state.isReservation?"Check-In":"Complete"," ")," ",r.a.createElement("div",{style:{width:this.state.width},className:"fill"}))," ")," ")," ")}}]),t}(n.Component);function w(e,t,a){return e.filter((function(e){return e[t]===a})).sort((function(e,t){return e.times.timeStamp>=t.times.timeStamp?1:-1}))}function S(e,t,a){return(a?e.filter((function(e){return e.rowNum===t})):e).sort((function(e,t){return e.times.timeStamp>=t.times.timeStamp?1:-1}))}function P(){return{minute:O().minute(),hour:O().hour(),start:O().format("h:mm A"),end:O().add("hours",1).format("h:mm A")}}function R(e,t){return e.reduce((function(e,a){return e+a[t]}),0)}var M,k=function(e){var t=Object(n.useState)([]),a=Object(l.a)(t,2),i=a[0],c=a[1],s=Object(n.useState)([]),o=Object(l.a)(s,2),m=o[0],u=o[1];Object(n.useEffect)((function(){var t=S(e.parties,1,!0),a=S(e.parties,2,!0);c(t),u(a)}),[e.parties]);var d=function(t){return t.map((function(t){return r.a.createElement(C,{modifyStateNum:e.modifyStateNum,countDownSpeed:e.countDownSpeed,currentTime:e.currentTime,key:t.id,handleRemoveParty:e.handleRemoveParty,handleCheckReservation:e.handleCheckReservation,party:t,updatePartyData:e.updatePartyData,handleEditModalToggle:e.handleEditModalToggle,updateCurrentPartyLists:e.updateCurrentPartyLists})}))};return r.a.createElement(n.Fragment,null,r.a.createElement("div",{id:"cattery",className:"row-container"},r.a.createElement("h2",{className:"title"},"Current Occupancy (",e.currentOccupancy,")"),r.a.createElement("div",{id:"list-of-parties-container"},d(i))),r.a.createElement("div",{id:"reservations",className:"row-container"},r.a.createElement("h2",{className:"title"},"Upcoming Reservations (",e.currentNumOfReservations,")"),r.a.createElement("div",{id:"list-of-parties-container"},r.a.createElement("div",{id:"list-of-parties-container"},d(m)))))},T=(a(82),a(83),function(e){var t=e.currentOccupancy,a=e.partySize,n=e.parties,i=15-t;return r.a.createElement("div",{id:"party-size1",className:"party-size-wrapper"},r.a.createElement("div",{className:"party-size"},a),r.a.createElement("div",{className:"next-available-time"},a<=i?v:function(){var e,t=0;n.length>=1&&(t=i+n[0].numberInParty||0);for(var r=0;r<n.length;r++){if(a<=t){e=n[r].times.end;break}e=n[r].times.end,t+=n[r].numberInParty}return e}()))}),j=function(e){var t=e.currentOccupancy,a=e.parties,i=Object(n.useState)(a),c=Object(l.a)(i,2),s=c[0],o=c[1];return Object(n.useEffect)((function(){var e=a.filter((function(e){return(1===e.rowNum||!0===e.isUpcomingReservation)&&!1===e.isOverdue})).sort((function(e,t){return e.times.timeStamp>t.times.timeStamp?1:-1})),n=Array.from(Array(15)).map((function(a,n){return r.a.createElement(T,{currentOccupancy:t,parties:e,partySize:n+1,key:Math.random()})}));o(n)}),[t,a]),r.a.createElement("div",{id:"party-size-availability-container"},r.a.createElement("h2",null,"Walk-In Availability"),s)},I=(a(84),function(e){var t=r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"plus",className:"svg-inline--fa fa-plus fa-w-14",role:"img",viewBox:"0 0 448 512"},r.a.createElement("path",{fill:"currentColor",d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"})),a=r.a.createElement("div",{className:"modal-container"},r.a.createElement("div",{onClick:e.click,className:"backdrop"}),r.a.createElement("div",{id:"modal"},r.a.createElement("div",{onClick:e.click,className:"close-btn"},t),e.children));return c.a.createPortal(a,document.getElementById("modal-hook"))}),L=function(e){var t=e.parties,a=e.currentOccupancy,i=e.currentNumOfUpcomingReservations,c=e.currentNumOverdue,s=Object(n.useState)(0),o=Object(l.a)(s,2),m=o[0],u=o[1],d=Object(n.useState)(0),p=Object(l.a)(d,2),h=p[0],v=p[1];return Object(n.useEffect)((function(){!function(){var e=w(t,"isUpcomingReservation",!0),a=0;t.length>=1&&e.length>=1&&function(){for(var n,r,i=w(t,"rowNum",1),c=w(i,"isUpcomingReservation",!1),s=[],l=[],o=function(t){var a=e[t].times.timeStamp;c.forEach((function(e){e.times.timeStamp+3600>=a?s.push(e):l.push(e)}))},m=0;m<e.length;m++)o(m);console.log("overlap length: ".concat(s.length)),console.log("nonOverlap length: ".concat(l.length)),console.log("upcomingReservationList length: ".concat(e.length)),l.length>=1&&e.length>=1?(n=l.length>1?R(l,"numberInParty"):l[0].numberInParty,r=e.length>1?R(e,"numberInParty"):e[0].numberInParty,a=n<r?n:r):a=0}(),console.log("OVERLAP ADJUSTMENT:  ".concat(a)),u(a)}(),v(15-(a+i-c-m))}),[t]),r.a.createElement("div",{id:"current-spots remaining",className:"container"},r.a.createElement("span",{className:"icon"},g),r.a.createElement("span",{className:"primary-value  number-in-cattery"},r.a.createElement("span",null,h),0===i?"":r.a.createElement("div",{className:"upcoming-reservations"},"Includes ",i," Upcoming")),r.a.createElement("span",{className:"open-spots"},"Spots Available"))},x=function(e){return r.a.createElement("div",{id:"time-and-people-container"},r.a.createElement("div",{id:"current-time",className:"container"},r.a.createElement("span",{className:"icon"},E),r.a.createElement("div",{className:"primary-value"},e.currentTime,110===e.countDownSpeed?r.a.createElement("div",{className:"test-mode"},"Test Mode"):"")),r.a.createElement(L,{parties:e.parties,currentOccupancy:e.currentOccupancy,currentNumOfUpcomingReservations:e.currentNumOfUpcomingReservations,currentNumOverdue:e.currentNumOverdue,handleSendToServer:e.handleSendToServer}),r.a.createElement("div",{id:"current-occupancy",className:"container"},r.a.createElement("span",{className:"primary-value  number-in-cattery"},r.a.createElement("span",null,e.totalGuests)),r.a.createElement("span",{className:"open-spots"},"Total Guests Today")))},A=function(e){return r.a.createElement("div",{className:"input-container"},r.a.createElement("label",null,e.label),r.a.createElement("input",{onChange:e.onChange,style:e.style,id:e.id,className:e.class,type:e.type,value:e.value,placeholder:e.placeholder}))},D=a(70),U=a.n(D),Y=(a(160),function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={isOpen:!0,start:null,end:null,hour:null,minute:null,timeStamp:null},a.handleUpdateTime=function(e){var t=e.formatted.toString().toUpperCase(),n=O(t,"h:mmA").format("h:mm A"),r=O(t,"h:mmA").add("hours",1).format("h:mm A"),i=O().format("D-MM-YYYY").toString(),c=O("".concat(i," ").concat(n),"D-MM-YYYY h:mmA").unix();console.log(c),a.setState({start:n,end:r,hour:e.hour24,minute:e.minute,timeStamp:c})},a.toggleOpenTimeKeeper=function(){a.setState({isOpen:!a.state.isOpen})},a.updateData=function(){a.props.handleUpdateReservation(a.state),a.toggleOpenTimeKeeper()},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=r.a.createElement("div",{className:"edit-container"},r.a.createElement("span",{id:"title",className:"reservation-time"},"Reservation:"),r.a.createElement("span",{id:"time",className:"reservation-time"},this.state.start),r.a.createElement("button",{onClick:this.toggleOpenTimeKeeper,className:"save-btn"},b)),a=r.a.createElement("div",{className:"time-picker-container"},r.a.createElement("button",{onClick:this.updateData,className:"save-btn"},"Save"),r.a.createElement(U.a,{time:this.state.timeStart,onChange:function(t){return e.handleUpdateTime(t)}}));return r.a.createElement("div",{className:"time-input-container"},this.state.isOpen?a:t)}}]),t}(n.Component)),z=(a(161),function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={description:null,reservationTime:null,id:null,isReservation:!1,isOverdue:!1,isUpcomingReservation:!1,isOverlap:!1,name:null,numberInParty:1,paid:!0,rowNum:1,times:{minute:null,hour:null,start:null,end:null,timeStamp:null}},a.addParty=function(e,t,n){a.props.handleAddParty(e,t,n)},a.handleUpdateReservation=function(e){var t={minute:e.minute,hour:e.hour,start:e.start,end:e.end,timeStamp:e.timeStamp};a.setState({rowNum:2,times:t})},a.handleUpdateNumOfPeople=function(e){a.setState({numberInParty:e})},a.onInputChange=function(e){if("numberInParty"===e.target.id){var t=document.querySelectorAll(".btn-radio input");console.log(t[2]),t.forEach((function(e){return e.checked=!1}))}console.log(e.target.id),console.log(e.target.value),a.setState(Object(o.a)({},e.target.id,e.target.value))},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=O().format("h:mm A"),t=O().format("D-MM-YYYY").toString(),a=O("".concat(t," ").concat(e),"D-MM-YYYY h:mmA").unix(),n={minute:O().minute(),hour:O().hour(),start:e,end:O().add("hours",1).format("h:mm A"),timeStamp:a};this.setState({id:10*Math.random(),times:n})}},{key:"render",value:function(){var e,t,a,n,i,c=this,s=r.a.createElement("div",{className:"input-container"},r.a.createElement("label",{htmlFor:""},"Description ",r.a.createElement("textarea",{onChange:this.onInputChange,value:this.state.value,id:"description"}))," "),l=r.a.createElement(A,{className:"input-container",onChange:this.onInputChange,id:"name",label:"Party Name:",type:"text"}),m=r.a.createElement("div",{id:"walkIn-res__container"},r.a.createElement("span",{className:"title"}," Party Type ")," ",r.a.createElement("div",{className:"walkIn-res__wrapper"},r.a.createElement("span",{onClick:function(){return c.setState({isReservation:!1})},id:"walk-on",className:"walkIn-res__btn ".concat(this.state.isReservation?"":"active")},"Walk - In"," ")," ",r.a.createElement("span",{onClick:function(){return c.setState({isReservation:!0})},id:"reservation",className:"walkIn-res__btn ".concat(this.state.isReservation?"active":"")},"Reservation"," ")," ")," ",this.state.isReservation?r.a.createElement(Y,{timeStart:this.state.times.start,reservationTime:this.state.reservationTime,time:this.state.times.start,handleUpdateReservation:this.handleUpdateReservation}):""," "),u=r.a.createElement("div",{id:"payment-container"},r.a.createElement("span",{className:"title"}," Payment ")," ",r.a.createElement("div",{className:"walkIn-res__wrapper"},r.a.createElement("span",{onClick:function(){return c.setState({paid:!0})},id:"paid__yes",className:"walkIn-res__btn ".concat(this.state.paid?"active":"")},"Paid"," ")," ",r.a.createElement("span",{onClick:function(){return c.setState({paid:!1})},id:"paid__no",className:"walkIn-res__btn ".concat(this.state.paid?"":"active")},"Not Paid"," ")," ")," "),d=r.a.createElement("div",{id:"num-of-people",className:"input-container"},r.a.createElement("label",null," Select# of People in Party: ")," ",r.a.createElement("div",{className:"select-option-container"},r.a.createElement("div",{className:"radio-container"},r.a.createElement("label",(e={htmlFor:"",onClick:function(){return c.setState({numberInParty:1})}},Object(o.a)(e,"htmlFor","radio-1"),Object(o.a)(e,"className","btn-radio"),e),r.a.createElement("input",{type:"radio",id:"radio-1",name:"radio-grp"}),r.a.createElement("svg",{width:"20px",height:"20px",viewBox:"0 0 20 20"},r.a.createElement("circle",{cx:"10",cy:"10",r:"9"}),r.a.createElement("path",{d:"M10,7 C8.34314575,7 7,8.34314575 7,10 C7,11.6568542 8.34314575,13 10,13 C11.6568542,13 13,11.6568542 13,10 C13,8.34314575 11.6568542,7 10,7 Z",className:"inner"}),r.a.createElement("path",{d:"M10,1 L10,1 L10,1 C14.9705627,1 19,5.02943725 19,10 L19,10 L19,10 C19,14.9705627 14.9705627,19 10,19 L10,19 L10,19 C5.02943725,19 1,14.9705627 1,10 L1,10 L1,10 C1,5.02943725 5.02943725,1 10,1 L10,1 Z",className:"outer"}))," ",r.a.createElement("span",null," 1 ")," ")," ")," ",r.a.createElement("div",{className:"radio-container"},r.a.createElement("label",(t={htmlFor:"",onClick:function(){return c.setState({numberInParty:2})}},Object(o.a)(t,"htmlFor","radio-2"),Object(o.a)(t,"className","btn-radio"),t),r.a.createElement("input",{type:"radio",id:"radio-2",name:"radio-grp"}),r.a.createElement("svg",{width:"20px",height:"20px",viewBox:"0 0 20 20"},r.a.createElement("circle",{cx:"10",cy:"10",r:"9"}),r.a.createElement("path",{d:"M10,7 C8.34314575,7 7,8.34314575 7,10 C7,11.6568542 8.34314575,13 10,13 C11.6568542,13 13,11.6568542 13,10 C13,8.34314575 11.6568542,7 10,7 Z",className:"inner"}),r.a.createElement("path",{d:"M10,1 L10,1 L10,1 C14.9705627,1 19,5.02943725 19,10 L19,10 L19,10 C19,14.9705627 14.9705627,19 10,19 L10,19 L10,19 C5.02943725,19 1,14.9705627 1,10 L1,10 L1,10 C1,5.02943725 5.02943725,1 10,1 L10,1 Z",className:"outer"}))," ",r.a.createElement("span",null," 2 ")," ")," ")," ",r.a.createElement("div",{className:"radio-container"},r.a.createElement("label",(a={htmlFor:"",onClick:function(){return c.setState({numberInParty:3})}},Object(o.a)(a,"htmlFor","radio-3"),Object(o.a)(a,"className","btn-radio"),a),r.a.createElement("input",{type:"radio",id:"radio-3",name:"radio-grp"}),r.a.createElement("svg",{width:"20px",height:"20px",viewBox:"0 0 20 20"},r.a.createElement("circle",{cx:"10",cy:"10",r:"9"}),r.a.createElement("path",{d:"M10,7 C8.34314575,7 7,8.34314575 7,10 C7,11.6568542 8.34314575,13 10,13 C11.6568542,13 13,11.6568542 13,10 C13,8.34314575 11.6568542,7 10,7 Z",className:"inner"}),r.a.createElement("path",{d:"M10,1 L10,1 L10,1 C14.9705627,1 19,5.02943725 19,10 L19,10 L19,10 C19,14.9705627 14.9705627,19 10,19 L10,19 L10,19 C5.02943725,19 1,14.9705627 1,10 L1,10 L1,10 C1,5.02943725 5.02943725,1 10,1 L10,1 Z",className:"outer"}))," ",r.a.createElement("span",null," 3 ")," ")," ")," ",r.a.createElement("div",{className:"radio-container"},r.a.createElement("label",(n={htmlFor:"",onClick:function(){return c.setState({numberInParty:4})}},Object(o.a)(n,"htmlFor","radio-4"),Object(o.a)(n,"className","btn-radio"),n),r.a.createElement("input",{type:"radio",id:"radio-4",name:"radio-grp"}),r.a.createElement("svg",{width:"20px",height:"20px",viewBox:"0 0 20 20"},r.a.createElement("circle",{cx:"10",cy:"10",r:"9"}),r.a.createElement("path",{d:"M10,7 C8.34314575,7 7,8.34314575 7,10 C7,11.6568542 8.34314575,13 10,13 C11.6568542,13 13,11.6568542 13,10 C13,8.34314575 11.6568542,7 10,7 Z",className:"inner"}),r.a.createElement("path",{d:"M10,1 L10,1 L10,1 C14.9705627,1 19,5.02943725 19,10 L19,10 L19,10 C19,14.9705627 14.9705627,19 10,19 L10,19 L10,19 C5.02943725,19 1,14.9705627 1,10 L1,10 L1,10 C1,5.02943725 5.02943725,1 10,1 L10,1 Z",className:"outer"}))," ",r.a.createElement("span",null," 4 ")," ")," ")," ",r.a.createElement("div",{className:"radio-container"},r.a.createElement("label",(i={htmlFor:"",onClick:function(){return c.setState({numberInParty:5})}},Object(o.a)(i,"htmlFor","radio-5"),Object(o.a)(i,"className","btn-radio"),i),r.a.createElement("input",{type:"radio",id:"radio-5",name:"radio-grp"}),r.a.createElement("svg",{width:"20px",height:"20px",viewBox:"0 0 20 20"},r.a.createElement("circle",{cx:"10",cy:"10",r:"9"}),r.a.createElement("path",{d:"M10,7 C8.34314575,7 7,8.34314575 7,10 C7,11.6568542 8.34314575,13 10,13 C11.6568542,13 13,11.6568542 13,10 C13,8.34314575 11.6568542,7 10,7 Z",className:"inner"}),r.a.createElement("path",{d:"M10,1 L10,1 L10,1 C14.9705627,1 19,5.02943725 19,10 L19,10 L19,10 C19,14.9705627 14.9705627,19 10,19 L10,19 L10,19 C5.02943725,19 1,14.9705627 1,10 L1,10 L1,10 C1,5.02943725 5.02943725,1 10,1 L10,1 Z",className:"outer"}))," ",r.a.createElement("span",null," 5 ")," ")," "),r.a.createElement("select",{onChange:this.onInputChange,id:"numberInParty",valuename:"number-of-people"},r.a.createElement("option",{value:"",disabled:!0,defaultValue:!0},"6 +")," ",r.a.createElement("option",{value:"6"}," 6 ")," ",r.a.createElement("option",{value:"7"}," 7 ")," ",r.a.createElement("option",{value:"8"}," 8 ")," ",r.a.createElement("option",{value:"9"}," 9 ")," ",r.a.createElement("option",{value:"10"}," 10 ")," ",r.a.createElement("option",{value:"11"}," 11 ")," ",r.a.createElement("option",{value:"12"}," 12 ")," ",r.a.createElement("option",{value:"13"}," 13 ")," ",r.a.createElement("option",{value:"14"}," 14 ")," ",r.a.createElement("option",{value:"15"}," 15 ")," ")," ")," ");return r.a.createElement("div",{id:"add-people-container"},r.a.createElement("h2",null," Add Party ")," ",r.a.createElement("div",{className:"input-container-wrapper"}," ",m," ",l," ",this.state.isReservation?"":s," ",d," ",u,r.a.createElement("div",{onClick:function(){return c.addParty([c.state],c.state.numberInParty,c.state.isReservation)},className:"input-container-button"},r.a.createElement("span",null," Add Party ")," ",r.a.createElement("span",null," ",y," ")," ")," ")," ")}}]),t}(n.Component)),_=function(e){return r.a.createElement("div",{id:"number-of-people-container"},r.a.createElement(z,{handleAddParty:e.handleAddParty}))},F=function(e){return r.a.createElement("span",{onClick:e.handleModalToggle,className:"modal-btn"},r.a.createElement("span",{className:"text"}," ADD PARTY"),r.a.createElement("span",{className:"btn"}," ",y))},B=(a(162),function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={countDownSpeed:6e4,currentNumOfReservations:0,currentNumOfUpcomingReservations:0,currentNumOverdue:0,currentOccupancy:0,currentTime:"2:10 PM",isEditMode:!1,modalIsOpen:!1,parties:[],totalGuests:0,times:{minute:null,hour:null,currentTime:null,currentTimePlusHour:null}},a.checkPartyStartTimes=function(){for(var e=O().format("h:mm A"),t=O().format("D-MM-YYYY").toString(),n={minute:O().minute(),hour:O().hour(),currentTime:e,currentTimePlusHour:O().add("hours",1).format("h:mm A"),timeStamp:O("".concat(t," ").concat(e),"D-MM-YYYY h:mmA").unix()},r=0;r<a.state.parties.length;r++){var i=a.state.parties;i[r].times.timeStamp-a.state.times.timeStamp<=3600&&!1===i[r].isUpcomingReservation&&2===i[r].rowNum&&(console.log("Match"),i[r].isUpcomingReservation=!0,a.handleSendToServer()),i[r].times.start===a.state.times.currentTime&&1!==i[r].rowNum&&(i[r].isUpcomingReservation=!0,i[r].rowNum=1,a.handleSendToServer())}a.setState({times:n})},a.handleAddParty=function(e,t,n){var r=[].concat(Object(s.a)(a.state.parties),Object(s.a)(e));a.props.updateCatteryState(r),a.setState({modalIsOpen:!1})},a.handleCheckReservation=function(e,t){var n=a.getFilteredParty(e),r=P();n[0].rowNum=1,n[0].isReservation=!1,n[0].times.start=r.start,n[0].times.end=r.end,n[0].rowNum=1;var i=a.state.parties;a.props.updateCatteryState(Object(s.a)(i))},a.handleEditModalToggle=function(e){a.handleModalToggle(),a.setState({isEditMode:!a.state.isEditMode,currentPartyId:e||null})},a.handleModalToggle=function(){a.setState({modalIsOpen:!a.state.modalIsOpen,isEditMode:!1})},a.handleMoveParty=function(e,t){var n=a.state.parties.filter((function(t){return t.id!==e})),r=a.getFilteredParty(e);console.dir(r[0]),r[0].rowNum=t;var i=[].concat(Object(s.a)(n),Object(s.a)(r));a.setState({parties:i})},a.handleRemoveParty=function(e,t){console.log("Updated Remove Started");var n=a.state.parties.filter((function(t){return t.id!==e}));a.getFilteredParty(e)[0].isOverdue;a.setState({parties:Object(s.a)(n)}),console.log("Updated Remove",Object(s.a)(n)),a.props.updateCatteryState(Object(s.a)(n))},a.getFilteredParty=function(e){return a.state.parties.filter((function(t){return t.id===e}))},a.handleUpdateTimes=function(e){var t=P(),n=a.getFilteredParty(e);n[0].times.start=t.times.start,n[0].times.end=t.times.end},a.updatePartyData=function(e,t,n){a.getFilteredParty(e)[0][t]=n,a.handleSendToServer()},a.modifyStateNum=function(e,t,n){n?a.setState(Object(o.a)({},t,Number(a.state[t])-Number(e))):a.setState(Object(o.a)({},t,Number(a.state[t])+Number(e)))},a.modifyCurrentOccupancy=function(e,t){var n,r=w(a.state.parties,"rowNum",1),i=w(r,"isReservation",!1).reduce((function(e,t){return e+t.numberInParty}),0);n=t?i-e:i+e,a.setState({currentOccupancy:n})},a.handleUpdateStateNums=function(e){},a.handleSendToServer=function(){var e=a.state.parties;a.props.updateCatteryState(Object(s.a)(e))},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=O().format("h:mm A"),t=O().format("D-MM-YYYY").toString(),a={minute:O().minute(),hour:O().hour(),currentTime:e,currentTimePlusHour:O().add("hours",1).format("h:mm A"),timeStamp:O("".concat(t," ").concat(e),"D-MM-YYYY h:mmA").unix()};setInterval(this.checkPartyStartTimes,1e3),console.log(this.props.partyState),this.setState({times:a})}},{key:"componentDidUpdate",value:function(e){if(e.parties!==this.props.parties){console.log("incoming parties",this.props.parties.length);var t=0,a=0,n=0,r=0;if(this.props.parties.length>=1)t=R(w(this.props.parties,"isReservation",!1),"numberInParty")||0,console.log("Current Occupancy: ".concat(t)),a=R(w(this.props.parties,"isReservation",!0),"numberInParty")||0,console.log("Reservations: ".concat(a)),n=R(w(this.props.parties,"isUpcomingReservation",!0),"numberInParty")||0,console.log("Reservations: ".concat(n)),r=R(w(this.props.parties,"isOverdue",!0),"numberInParty")||0,console.log("Reservations: ".concat(r));this.setState({parties:this.props.parties,currentOccupancy:t,currentNumOfReservations:a,currentNumOfUpcomingReservations:n,currentNumOverdue:r,totalGuests:0})}}},{key:"render",value:function(){var e=r.a.createElement(I,{click:this.handleModalToggle},this.state.isEditMode?r.a.createElement(N,{partyId:this.state.currentPartyId,updatePartyData:this.updatePartyData,handleEditModalToggle:this.handleEditModalToggle}):r.a.createElement(_,{handleAddParty:this.handleAddParty}));return r.a.createElement(n.Fragment,null,r.a.createElement(x,{parties:this.state.parties,currentTime:this.state.times.currentTime,currentOccupancy:this.state.currentOccupancy,currentNumOfUpcomingReservations:this.state.currentNumOfUpcomingReservations,currentNumOverdue:this.state.currentNumOverdue,totalGuests:this.state.totalGuests,handleSendToServer:this.handleSendToServer}),r.a.createElement("div",{className:"cattery-container"},this.state.modalIsOpen?e:r.a.createElement(F,{handleModalToggle:this.handleModalToggle}),r.a.createElement("div",{id:"party-size-availability-col"},r.a.createElement(j,{currentTime:this.state.times.currentTime,currentOccupancy:this.state.currentOccupancy+this.state.currentNumOfUpcomingReservations-this.state.currentNumOverdue,parties:this.state.parties})),r.a.createElement("div",{id:"cattery-body-col"},r.a.createElement(k,{title:"Current Occupancy",modifyStateNum:this.modifyStateNum,countDownSpeed:this.state.countDownSpeed,currentOccupancy:this.state.currentOccupancy,currentNumOfReservations:this.state.currentNumOfReservations,currentTime:this.state.times.currentTime,handleRemoveParty:this.handleRemoveParty,handleCheckReservation:this.handleCheckReservation,handleUpdateTimes:this.handleUpdateTimes,updatePartyData:this.updatePartyData,handleEditModalToggle:this.handleEditModalToggle,handleAddParty:this.handleAddParty,parties:this.state.parties,handleMoveParty:this.handleMoveParty}))))}}]),t}(n.Component)),H=(a(163),a(71)),V=a.n(H),Z=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],i=t[1],c=Object(n.useState)([]),o=Object(l.a)(c,2),m=o[0],u=o[1];Object(n.useEffect)((function(){return(M=V()("https://cattery-server.herokuapp.com/")).on("server_send",(function(e){i(e),console.log(e)})),d(),function(){M.emit("disconnect")}}),[]),Object(n.useEffect)((function(){u(Object(s.a)(a))}),[a]);var d=function(){M.emit("refresh_data")};return r.a.createElement("div",{className:"App"},r.a.createElement(B,{updateCatteryState:function(e){u(e),M.emit("client_send",Object(s.a)(e)),console.log("update statee")},parties:m}),r.a.createElement("div",{onClick:function(){M.emit("client_send",[])},className:"refresh-data"},"Clear"))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(Z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},72:function(e,t,a){e.exports=a(194)},77:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){}},[[72,1,2]]]);
//# sourceMappingURL=main.409fa46f.chunk.js.map